<form
  class="px-10 w-9/12 m-auto"
  [formGroup]="contactForm"
  (ngSubmit)="onSubmit()"
>
  <div><h1 class="text-2xl pb-4">Add Contact</h1></div>
  <div class="flex flex-col">
    <label for="firstname" class="pt-2 pb-1">First Name</label>
    <input
      type="text"
      id="firstname"
      [formControl]="contactForm.get('firstName') | asFormControl"
    />
  </div>
  <div class="flex flex-col">
    <div class="pt-2 pb-1">Last Name</div>
    <input
      type="text"
      id="lastname"
      [formControl]="contactForm.get('lastName') | asFormControl"
    />
  </div>
  <div>
    <h2 lass="pt-5 pb-1">Address</h2>
    <div class="flex flex-col">
      <div
        *ngFor="let group of contactForm.get('addresses') | asFormGroupArray"
      >
        <div class="pt-2 pb-1">Street Address</div>
        <input
          type="text"
          id="address"
          [formControl]="group.get('streetAddress') | asFormControl"
        />

        <div class="flex flex-row space-x-4 justify-between">
          <div class="flex flex-col w-3/6">
            <div class="pt-2 pb-1">City</div>
            <input
              type="text"
              id="city"
              [formControl]="group.get('city') | asFormControl"
            />
          </div>
          <div class="flex flex-col w-2/6">
            <div class="pt-2 pb-1">State</div>
            <input
              type="text"
              id="state"
              [formControl]="group.get('state') | asFormControl"
            />
          </div>
          <div class="flex flex-col w-2/6">
            <div class="pt-2 pb-1">Zipcode</div>
            <input
              type="text"
              id="zipcode"
              [formControl]="group.get('zipcode') | asFormControl"
            />
          </div>
        </div>
      </div>
      <button type="button" (click)="addAddress()">Add a row</button>
    </div>
  </div>

  <div>
    <h2>Contact Detail</h2>
    <div class="pt-2 pb-1">Email</div>
    <div
      *ngFor="let group of contactForm.get('emailAddresses') | asFormGroupArray"
      class="py-1"
    >
      <input
        type="text"
        id="email"
        [formControl]="group.get('emailAddress') | asFormControl"
        class="w-4/5"
      />
      <fa-icon
        [icon]="faTrashCan"
        (click)="deleteEmail(addEmailAddress)"
      ></fa-icon>
    </div>

    <button type="button" (click)="addEmailAddress()">+ Add</button>

    <div class="pt-2 pb-1">Phone</div>
    <div
      *ngFor="let group of contactForm.get('phoneNumbers') | asFormGroupArray"
      class="py-1"
    >
      <input
        type="text"
        id="phone"
        [formControl]="group.get('phoneNumber') | asFormControl"
        class="w-4/5"
      />
      <fa-icon
        [icon]="faTrashCan"
        (click)="deletePhoneNumber(addPhoneNumber)"
      ></fa-icon>
      <!-- show delete icon only when array.length > 1 ? *ngIf="group.get('phoneNumber').length > 1"-->
    </div>
    <button type="button" (click)="addPhoneNumber()">+ Add</button>

    <div class="flex flex-row justify-between pt-10">
      <button type="submit" class="w-20 rounded-lg bg-emerald-500 p-2">
        Submit
      </button>
      <button class="w-20 rounded-lg bg-rose-500 p-2" type="reset">
        Clear
      </button>
    </div>
  </div>
</form>
